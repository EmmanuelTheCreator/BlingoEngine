@using LingoEngine.Blazor.Stages
@using LingoEngine.Blazor.Movies
@implements IDisposable

@if (Stage.ActiveMovie is not null)
{
    <LingoBlazorMovieView Movie="Stage.ActiveMovie" />
}

@code {
    [Parameter] public LingoBlazorStage Stage { get; set; } = default!;

    protected override void OnInitialized()
    {
        Stage.Changed += OnChanged;
    }

    private void OnChanged() => InvokeAsync(StateHasChanged);

    public void Dispose()
    {
        Stage.Changed -= OnChanged;
    }
}
